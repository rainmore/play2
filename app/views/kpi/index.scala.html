@(message: String, list: List[models.kpi.Template], template: models.kpi.Template = null)
@import models.kpi.Template
@import helper._

@main("KPI List") {
<table>
    <thead>
        <tr>
            <th rowspan="2">Template</th>
            <th colspan="3">Target</th>
            <th rowspan="2">Type</th>
            <th rowspan="2">KRA</th>
            <th rowspan="2">Active</th>
            <th rowspan="2">Copy</th>
            <th rowspan="2">Edit</th>
            <th rowspan="2">Delete</th>
        </tr>
        <tr>
            <th>Location</th>
            <th>Group</th>
            <th>Account</th>
        </tr>
    </thead>
    @for(item <- list) {
    <tbody>
        <tr data-item-id="@item.id">
            <td>
                @if(template != null && template.id == item.id) {
                    <a href="@routes.Kpi.index(0)">@item.name</a>
                }else{
                    <a href="@routes.Kpi.index(item.id)">@item.name</a>
                }

            </td>
            <td>N/A</td>
            <td>N/A</td>
            <td>N/A</td>
            <td>N/A</td>
            <td>N/A</td>
            <td>@item.sections.size</td>
            <td><a href="@routes.Kpi.activate(item.id)" >@if(item.isActive) {Yes} else {No}</a></td>
            <td><a href="@routes.Kpi.copy(item.id)">Copy</a></td>
            <td><a href="@routes.Kpi.edit(item.id)">Edit</a></td>
            <td><a href="@routes.Kpi.delete(item.id)">Delete</a></td>
        </tr>
        @if(template != null && template.id == item.id && template.sections.size > 0) {
        @for(section <- template.sections) {
            <tr data-item-id="@item.id" data-section="@section.id">
                <td colspan="8"><a href="/kpi/template/list/@section.id">@section.name</a></td>
                <td><a href="/kpi/template/section/copy/@section.id">Copy</a></td>
                <td><a href="/kpi/template/section/edit/@section.id">Edit</a></td>
                <td><a href="/kpi/template/section/delete/@section.id">Delete</a></td>
            </tr>
        }}
    </tbody>
    }
</table>
}
